<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Nominate a young achiever at the University of Benin for the TOYP UNIBEN Award. Celebrate outstanding individuals making a difference."
    />
    <title>Nominate - TOYP UNIBEN</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="nomination.css" />
  </head>
  <body>
    <header>
      <div class="logo">
        <img src="images/toyp-logo.png" alt="TOYP UNIBEN Logo" />
      </div>
      <div class="menu-toggle" onclick="toggleMenu()">â˜°</div>
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="nomination.html">Nominate</a></li>
          <li><a href="vote.html">Judges</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
    </header>

    <section class="nominate fade-in">
      <h1>Nominate a Young Achiever for TOYP UNIBEN</h1>
      <p>
        The TOYP UNIBEN awards recognizes exceptional young individuals at the
        University of Benin. Nominate someone (Undergraduate) who exemplifies
        leadership innovation or social impact for this prestigious recognition.
      </p>

      <div class="nomination-form">
        <h2>Nomination Form</h2>
        <p>Please fill in the form below to nominate a candidate:</p>

        <form action="https://formsubmit.co/toypuniben@gmail.com" method="POST">
          <!-- <form id="nomination-form" method="POST"> -->
          <label for="nominee-name">Nominee Name:</label>
          <input type="text" id="nominee-name" name="nominee-name" required />

          <label for="nominee-email">Email of Nominee:</label>
          <input
            type="email"
            id="nominee-email"
            name="nominee_email"
            required
          />

          <label for="nominator-email">Your Email:</label>
          <input
            type="email"
            id="nominator-email"
            name="nominator_email"
            placeholder="example@email.com"
            required
          />

          <label for="gender">Gender of Nominee:</label>
          <select id="gender" name="gender" required>
            <option value="">Select Gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
          </select>

          <label for="whatsapp-contact">WhatsApp Contact of Nominee:</label>
          <input
            type="text"
            id="whatsapp-contact"
            name="whatsapp_contact"
            required
          />

          <label for="other-contact">Other Contact of Nominee:</label>
          <input type="text" id="other-contact" name="other_contact" />

          <label for="faculty">Faculty of Nominee:</label>
          <select id="faculty" name="faculty" required>
            <option value="">Select Faculty</option>
            <option value="Faculty of Arts">Faculty of Arts</option>
            <option value="Faculty of Agriculture">
              Faculty of Agriculture
            </option>
            <option value="Basic Medical science">Basic Medical science</option>
            <option value="School of Dentistry">School of Dentistry</option>
            <option value="Faculty of Education">Faculty of Education</option>
            <option value="Faculty of Engineering">
              Faculty of Engineering
            </option>
            <option value="Faculty of Environmental science">
              Faculty of Environmental science
            </option>
            <option value="Faculty of Law">Faculty of Law</option>
            <option value="Faculty of Management science">
              Faculty of Management science
            </option>
            <option value="Faculty of Pharmacy">Faculty of Pharmacy</option>
            <option value="Faculty of Physical science">
              Faculty of Physical science
            </option>
            <option value="Faculty of Social science">
              Faculty of Social science
            </option>
            <option value="School of Medical science">
              School of Medical science
            </option>
            <option value="College of Medicine">College of Medicine</option>
            <option value="Veterinary Medicine">Veterinary Medicine</option>
            <option value="Faculty of Life Science">
              Faculty of Life Science
            </option>
            <option value="Other">Other</option>
          </select>

          <label for="department">Department of Nominee:</label>
          <input type="text" id="department" name="department" required />

          <label for="level">Level of Nominee:</label>
          <input type="text" id="level" name="level" required />

          <label for="category">Category:</label>
          <select id="category" name="category" required>
            <option value="">Select Category</option>
            <option value="Business and Entrepreneurship Excellence">
              Business and Entrepreneurship Excellence
            </option>
            <option value="Political & Governance Impact">
              Political & Governance Impact
            </option>
            <option value="Academic and Intellectual Achievements">
              Academic and Intellectual Achievements
            </option>
            <option value="Art & Creative Innovation">
              Art & Creative Innovation
            </option>
            <option value="Sports Achievement">Sports Achievement</option>
            <option value="Voluntary Leadership and Humanitarian services">
              Voluntary Leadership and Humanitarian services
            </option>
            <option value="Personal Development and Self improvement">
              Personal Development and Self improvement
            </option>
            <option value="Health & Medical Impact">
              Health & Medical Impact
            </option>
            <option value="Social & Community Influence">
              Social & Community Influence
            </option>
            <option value="Digital Media Presence">
              Digital Media Presence
            </option>
          </select>

          <label for="social-media-handle"
            >Social Media Handle of Nominee:</label
          >
          <input
            type="text"
            id="social-media-handle"
            name="social_media_handle"
            placeholder="@yourhandle"
            required
          />

          <label for="reason">Reason for Nomination:</label>
          <textarea id="reason" name="reason" rows="4" required></textarea>

          <!-- <input
            type="hidden"
            name="_next"
            value="https://jcin-uniben-toyp-25.vercel.app/thankuu.html"
          />
          <input type="hidden" name="_captcha" value="false" /> -->

          <button type="submit" id="submit-button">Submit Nomination</button>
        </form>

        <!-- <div
          id="confirmation-message"
          style="
            display: none;
            color: green;
            text-align: center;
            margin-top: 20px;
          "
        >
          <h3>Thank you for your nomination!</h3>
          <p>
            Your submission has been successfully received. The nominee will be
            contacted soon.
          </p> -->
        </div>
      </div>
    </section>
    <!-- <script>
      document.addEventListener("DOMContentLoaded", () => {
        const nominationForm = document.getElementById("nomination-form-main");
        const submitButton = document.getElementById("submit-button");
        const statusMessage = document.getElementById("status-message");
        const nominatorEmailInput = document.getElementById("nominator-email");

        // Define a unique key prefix for local storage specific to this form/purpose
        const NOMINATION_LOCAL_STORAGE_PREFIX =
          "toyp_uniben_nomination_status_";

        // Function to encode email for localStorage key (basic, not for security)
        function encodeEmailForLS(email) {
          return btoa(encodeURIComponent(email.toLowerCase().trim()));
        }

        // Function to check if a user with this email has already submitted
        function hasUserSubmitted(encodedEmailKey) {
          const itemStr = localStorage.getItem(
            NOMINATION_LOCAL_STORAGE_PREFIX + encodedEmailKey
          );
          if (!itemStr) return false;

          try {
            const item = JSON.parse(itemStr);
            const now = new Date().getTime();
            // Check if item exists and is not expired
            if (
              item.value === "submitted" &&
              item.expiry &&
              item.expiry > now
            ) {
              return true;
            } else {
              // Remove expired item
              localStorage.removeItem(
                NOMINATION_LOCAL_STORAGE_PREFIX + encodedEmailKey
              );
              return false;
            }
          } catch (e) {
            // Handle potential parsing errors if item is not valid JSON
            localStorage.removeItem(
              NOMINATION_LOCAL_STORAGE_PREFIX + encodedEmailKey
            );
            return false;
          }
        }

        // Function to mark a user as having submitted
        function markUserAsSubmitted(encodedEmailKey) {
          // Set for 24 hours (86400000 milliseconds) as an example expiry
          const now = new Date();
          const item = {
            value: "submitted",
            expiry: now.getTime() + 24 * 60 * 60 * 1000, // 24 hours from now
          };
          localStorage.setItem(
            NOMINATION_LOCAL_STORAGE_PREFIX + encodedEmailKey,
            JSON.stringify(item)
          );
        }

        // Add an event listener to the form's submit event
        nominationForm.addEventListener("submit", function (event) {
          const nominatorEmail = nominatorEmailInput.value;
          const encodedEmailKey = encodeEmailForLS(nominatorEmail);

          // Check if this nominator has already submitted
          if (hasUserSubmitted(encodedEmailKey)) {
            event.preventDefault(); // STOP the form from submitting
            statusMessage.style.display = "block";
            statusMessage.style.color = "red"; // Set color for error
            statusMessage.textContent =
              "You have already submitted a nomination using this email address. Thank you!";
            submitButton.disabled = false; // Re-enable button
            return; // Exit the function
          }

          // If this is a new submission, proceed and mark user as submitted
          markUserAsSubmitted(encodedEmailKey);

          // Give immediate visual feedback before redirect
          submitButton.disabled = true;
          submitButton.textContent = "Submitting...";
          statusMessage.style.display = "block";
          statusMessage.style.color = "darkgreen"; // Set color for submitting status
          statusMessage.textContent =
            "Submitting your nomination... Please wait.";

          // Since formsubmit.co is used with _next, the browser will redirect
          // automatically after formsubmit.co processes the submission.
        });

        // Initial check on page load: If there's a stored email from a previous session
        // and that email indicates a prior submission, hide the form.
        const lastNominatorEmailRaw = localStorage.getItem(
          "last_nominator_email_raw"
        );
        if (lastNominatorEmailRaw) {
          const encodedKeyFromLastSession = encodeEmailForLS(
            lastNominatorEmailRaw
          );
          if (hasUserSubmitted(encodedKeyFromLastSession)) {
            statusMessage.style.display = "block";
            statusMessage.style.color = "blue"; // Informational color
            statusMessage.textContent =
              "You have already submitted a nomination from this browser. Thank you!";
            nominationForm.style.display = "none"; // Hide the form
          }
        }

        // Listen for changes on the nominator email input field
        // This allows re-showing the form if they clear the email or enter a new one
        nominatorEmailInput.addEventListener("input", () => {
          statusMessage.style.display = "none"; // Clear any status message
          nominationForm.style.display = "block"; // Ensure form is visible again
          submitButton.disabled = false;
          submitButton.textContent = "Submit Nomination";
        });

        // Store the raw nominator email in localStorage on input blur, for persistent state
        nominatorEmailInput.addEventListener("blur", () => {
          const email = nominatorEmailInput.value.toLowerCase().trim();
          if (email) {
            localStorage.setItem("last_nominator_email_raw", email);
          } else {
            localStorage.removeItem("last_nominator_email_raw"); // Remove if field is empty
          }
        });
      });
    </script> -->
    <footer>
      <div class="footer-content">
        <div class="social-media">
          <h3>Follow JCIN UNIBEN</h3>
          <a href="c" id="linkedin"
            ><img src="images\social-linkedin-Photoroom.png" alt="Linkedin"
          /></a>

          <a href="https://www.facebook.com/Unibenjaycees" id="facebook"
            ><img src="images\social-facebook-Photoroom.png" alt="Facebook"
          /></a>
          <a
            href=" https://x.com/jci_uniben?t=PW5pwe7JdM_OeKftgZ5EzA&s=09
          "
            id="twitter"
            ><img src="images\social-twitter-Photoroom.png" alt="Twitter"
          /></a>
          <a
            href="https://www.tiktok.com/@jcinuniben?_t=ZM-8uil8rzDjOv&_r=1"
            id="tiktok"
            ><img src="images\social-tiktok-Photoroom.png" alt="TikTok"
          /></a>
        </div>
        <div class="footer-logo">
          <img
            src="images\jcin-uniben-logo-Photoroom.png"
            alt="JCIN UNIBEN Logo"
          />
        </div>
        <div class="footer-links">
          <h3>Quick Links</h3>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="vote.html">Vote</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </div>
      </div>
      <p>&copy; 2025 TOYP UNIBEN | Powered by JCIN UNIBEN</p>
    </footer>

    <script src="main.js"></script>
  </body>
</html>
